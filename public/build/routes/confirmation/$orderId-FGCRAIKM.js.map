{
  "version": 3,
  "sources": ["browser-route-module:/home/aleksep/remix/donat/app/routes/confirmation/$orderId.tsx?browser", "../../../../app/routes/confirmation/$orderId.tsx", "../../../../app/components/confirmation.tsx"],
  "sourcesContent": ["export { default } from \"/home/aleksep/remix/donat/app/routes/confirmation/$orderId.tsx\";", "import { serviceAPIClient } from \"../../clients\";\nimport {\n  GetOrderDocument,\n  GetOrderQuery,\n  GetOrderQueryVariables,\n} from \"../../service-api/get-order.generated\";\nimport { LoaderFunction, useLoaderData } from \"remix\";\nimport Confirmation from \"../../components/confirmation\";\n\nexport const loader: LoaderFunction = async ({ params }) => {\n  const data = await serviceAPIClient.request<\n    GetOrderQuery,\n    GetOrderQueryVariables\n  >(GetOrderDocument, { id: params.orderId as string });\n\n  return { data };\n};\n\nexport const ConfirmationStripe = () => {\n  const data = useLoaderData();\n  const order = data.data?.orders?.get;\n\n  return (\n    <div>\n      {order ? (\n        <Confirmation order={order} success={true} />\n      ) : (\n        <div className=\"w-auth p-20 bg-background3 mx-auto mt-20 text-text\">\n          <p>\u0417\u0430\u043A\u0430\u0437 \u043E\u0444\u043E\u0440\u043C\u043B\u044F\u0435\u0442\u0441\u044F... \u041E\u0431\u043D\u043E\u0432\u0438\u0442\u0435 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0443.</p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ConfirmationStripe;\n", "import { useEffect } from \"react\";\nimport { useBasket } from \"./basket\";\n\nexport default function Confirmation({ order, success }) {\n  const basket = useBasket();\n\n  if (success) {\n    basket.actions.empty();\n  }\n\n  useEffect(() => {\n    if (!order) {\n      const t = setTimeout(() => window.location.reload(), 5000);\n\n      return () => clearTimeout(t);\n    }\n  }, [order]);\n\n  if (!order) {\n    return <p>Loading...</p>;\n  }\n\n  const cart = order.cart.map((item) => ({\n    ...item,\n    image: {\n      url: item.imageUrl,\n    },\n  }));\n\n  const { total } = order;\n\n  return (\n    <div className=\"w-auto md:w-128 lg:w-128 p-10 bg-background3 mx-auto mt-20 text-text\">\n      <div>\n        <h1 className=\"font-bold text-3xl mb-6\">\u0417\u0430\u043A\u0430\u0437 \u043F\u0440\u0438\u043D\u044F\u0442</h1>\n        <p className=\"mb-5\">\u041C\u044B \u0443\u0436\u0435 \u043F\u043E\u043B\u0443\u0447\u0438\u043B\u0438 \u0432\u0430\u0448 \u0437\u0430\u043A\u0430\u0437 \u2116{order.id}.</p>\n        <div>\n          {cart.map((item, index) => {\n            return (\n              <div key={index} className=\"flex justify-between mb-4\">\n                <div>\n                  <p>\n                    {item.name} x {item.quantity}\n                  </p>\n                </div>\n                <p>${item.price.gross * item.quantity}</p>\n              </div>\n            );\n          })}\n          <div className=\"flex flex-col gap-3 border-t-2 pt-5\">\n            <div className=\"flex justify-between\">\n              <p>\u0421\u0443\u043C\u043C\u0430</p>\n              <p>${total.gross}</p>\n            </div>\n            <div className=\"flex justify-between\">\n              <p>\u0414\u043E\u0441\u0442\u0430\u0432\u043A\u0430</p>\n              <p>${total.net - total.gross}</p>\n            </div>\n            <div className=\"flex justify-between\">\n              <p className=\"font-bold\">\u0418\u0442\u043E\u0433\u043E</p>\n              <p>${total.net}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],
  "mappings": ";;;;;;;;;;;;;AAAA;;;ACAA;;;ACAA;AAAA,mBAA0B;AAGX,sBAAsB,EAAE,OAAO,WAAW;AACvD,QAAM,SAAS;AAEf,MAAI,SAAS;AACX,WAAO,QAAQ;AAAA;AAGjB,8BAAU,MAAM;AACd,QAAI,CAAC,OAAO;AACV,YAAM,IAAI,WAAW,MAAM,OAAO,SAAS,UAAU;AAErD,aAAO,MAAM,aAAa;AAAA;AAAA,KAE3B,CAAC;AAEJ,MAAI,CAAC,OAAO;AACV,WAAO,oCAAC,KAAD,MAAG;AAAA;AAGZ,QAAM,OAAO,MAAM,KAAK,IAAI,CAAC,SAAU;AAAA,OAClC;AAAA,IACH,OAAO;AAAA,MACL,KAAK,KAAK;AAAA;AAAA;AAId,QAAM,EAAE,UAAU;AAElB,SACE,oCAAC,OAAD;AAAA,IAAK,WAAU;AAAA,KACb,oCAAC,OAAD,MACE,oCAAC,MAAD;AAAA,IAAI,WAAU;AAAA,KAA0B,wEACxC,oCAAC,KAAD;AAAA,IAAG,WAAU;AAAA,KAAO,6IAA4B,MAAM,IAAG,MACzD,oCAAC,OAAD,MACG,KAAK,IAAI,CAAC,MAAM,UAAU;AACzB,WACE,oCAAC,OAAD;AAAA,MAAK,KAAK;AAAA,MAAO,WAAU;AAAA,OACzB,oCAAC,OAAD,MACE,oCAAC,KAAD,MACG,KAAK,MAAK,OAAI,KAAK,YAGxB,oCAAC,KAAD,MAAG,KAAE,KAAK,MAAM,QAAQ,KAAK;AAAA,MAInC,oCAAC,OAAD;AAAA,IAAK,WAAU;AAAA,KACb,oCAAC,OAAD;AAAA,IAAK,WAAU;AAAA,KACb,oCAAC,KAAD,MAAG,mCACH,oCAAC,KAAD,MAAG,KAAE,MAAM,SAEb,oCAAC,OAAD;AAAA,IAAK,WAAU;AAAA,KACb,oCAAC,KAAD,MAAG,qDACH,oCAAC,KAAD,MAAG,KAAE,MAAM,MAAM,MAAM,SAEzB,oCAAC,OAAD;AAAA,IAAK,WAAU;AAAA,KACb,oCAAC,KAAD;AAAA,IAAG,WAAU;AAAA,KAAY,mCACzB,oCAAC,KAAD,MAAG,KAAE,MAAM;AAAA;;;AD1ClB,IAAM,qBAAqB,MAAM;AAlBxC;AAmBE,QAAM,OAAO;AACb,QAAM,QAAQ,iBAAK,SAAL,mBAAW,WAAX,mBAAmB;AAEjC,SACE,oCAAC,OAAD,MACG,QACC,oCAAC,cAAD;AAAA,IAAc;AAAA,IAAc,SAAS;AAAA,OAErC,oCAAC,OAAD;AAAA,IAAK,WAAU;AAAA,KACb,oCAAC,KAAD,MAAG;AAAA;AAOb,IAAO,kBAAQ;",
  "names": []
}
